{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/core/services/product.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../header/header.component\";\nimport * as i5 from \"../../footer/footer.component\";\nimport * as i6 from \"../../carousel/carousel.component\";\nfunction CatalogComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelement(1, \"img\", 4);\n    i0.ɵɵelementStart(2, \"div\", 5);\n    i0.ɵɵelement(3, \"app-carousel\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function CatalogComponent_div_7_Template_div_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.goToProduct(product_r1.id));\n    });\n    i0.ɵɵelementStart(5, \"h2\", 8);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 9);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"images\", product_r1.images);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.getFormattedPrice(product_r1.price));\n  }\n}\nexport class CatalogComponent {\n  constructor(router, productService, route) {\n    this.router = router;\n    this.productService = productService;\n    this.route = route;\n    this.products = [];\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      let productType = params['item'];\n      this.productService.getAllProducts(productType).subscribe(productsFromQuery => {\n        this.products = productsFromQuery;\n      }, error => {\n        console.error('Error fetching products', error);\n      });\n    });\n  }\n  goToProduct(id) {\n    this.router.navigate(['catalog/product', id]);\n  }\n  formatNumber(num) {\n    return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n  }\n  getFormattedPrice(price) {\n    return `${this.formatNumber(price)} ₽`;\n  }\n  static #_ = this.ɵfac = function CatalogComponent_Factory(t) {\n    return new (t || CatalogComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ProductService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CatalogComponent,\n    selectors: [[\"app-catalog\"]],\n    decls: 9,\n    vars: 1,\n    consts: [[1, \"settings-bar\"], [1, \"container\"], [\"class\", \"product\", 4, \"ngFor\", \"ngForOf\"], [1, \"product\"], [\"ngClass\", \"active\", \"src\", \"../../../../../assets/images/icons/favourites.svg\", \"alt\", \"\", 1, \"star\"], [1, \"product-image\"], [3, \"images\"], [1, \"product-description\", 3, \"click\"], [1, \"product-name\"], [1, \"product-price\"]],\n    template: function CatalogComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-header\");\n        i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\");\n        i0.ɵɵtext(3, \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\");\n        i0.ɵɵtext(5, \"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 1);\n        i0.ɵɵtemplate(7, CatalogComponent_div_7_Template, 9, 3, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"app-footer\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      }\n    },\n    dependencies: [i3.NgClass, i3.NgForOf, i4.HeaderComponent, i5.FooterComponent, i6.CarouselComponent],\n    styles: [\".container[_ngcontent-%COMP%]{\\n    padding: 2rem 20.5rem;\\n    display: flex;\\n    flex-wrap: wrap;\\n}\\n\\n.settings-bar[_ngcontent-%COMP%]{\\n    position: relative;\\n    display: flex;\\n    align-items: center;\\n    gap: 18rem;\\n    padding: 0 12rem;\\n    width: 62rem;\\n    height: 5.6rem;\\n    border-radius: 3.3rem;\\n    background-color: #0ABAB5;\\n    color: #000;\\n    font-family: 'DaysOne';\\n    font-size: 1.6rem;\\n    left: 106rem;\\n    margin-bottom: 2rem;\\n}\\n\\n.product[_ngcontent-%COMP%]{\\n    position: relative;\\n    cursor: pointer;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    width: 47.2rem;\\n    height: 38.4rem;\\n    background-color: #fff;\\n    border-radius: 2.5rem;\\n    padding: 0.8rem 1.6rem;\\n    margin-left: 2rem;\\n    margin-bottom: 2rem;\\n}\\n\\n.star[_ngcontent-%COMP%]{\\n    position: absolute;\\n    top: 2rem;\\n    right: 2rem;\\n    z-index: 100;\\n}\\n\\n.product-image[_ngcontent-%COMP%]{\\n    width: 18rem;\\n    height: 26.2rem;\\n    margin-bottom: 2rem;\\n}\\n\\n.product-description[_ngcontent-%COMP%]{\\n    text-align: center;\\n    color: #000;\\n    font: 1.6rem 'DaysOne';\\n}\\n\\n.product-name[_ngcontent-%COMP%]{\\n    margin-bottom: 2rem;\\n}\\n\\n.product-price[_ngcontent-%COMP%]{\\n    color: #CA0D0D;\\n    font-family: 'Normalidad';\\n    font-weight: 700;\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvcm91dGVycy9jYXRhbG9nL2NhdGFsb2cuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHFCQUFxQjtJQUNyQixhQUFhO0lBQ2IsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFVBQVU7SUFDVixnQkFBZ0I7SUFDaEIsWUFBWTtJQUNaLGNBQWM7SUFDZCxxQkFBcUI7SUFDckIseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCxzQkFBc0I7SUFDdEIsaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLGNBQWM7SUFDZCxlQUFlO0lBQ2Ysc0JBQXNCO0lBQ3RCLHFCQUFxQjtJQUNyQixzQkFBc0I7SUFDdEIsaUJBQWlCO0lBQ2pCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixTQUFTO0lBQ1QsV0FBVztJQUNYLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osZUFBZTtJQUNmLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksY0FBYztJQUNkLHlCQUF5QjtJQUN6QixnQkFBZ0I7QUFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVye1xyXG4gICAgcGFkZGluZzogMnJlbSAyMC41cmVtO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxufVxyXG5cclxuLnNldHRpbmdzLWJhcntcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgZ2FwOiAxOHJlbTtcclxuICAgIHBhZGRpbmc6IDAgMTJyZW07XHJcbiAgICB3aWR0aDogNjJyZW07XHJcbiAgICBoZWlnaHQ6IDUuNnJlbTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDMuM3JlbTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwQUJBQjU7XHJcbiAgICBjb2xvcjogIzAwMDtcclxuICAgIGZvbnQtZmFtaWx5OiAnRGF5c09uZSc7XHJcbiAgICBmb250LXNpemU6IDEuNnJlbTtcclxuICAgIGxlZnQ6IDEwNnJlbTtcclxuICAgIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbn1cclxuXHJcbi5wcm9kdWN0e1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgd2lkdGg6IDQ3LjJyZW07XHJcbiAgICBoZWlnaHQ6IDM4LjRyZW07XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMi41cmVtO1xyXG4gICAgcGFkZGluZzogMC44cmVtIDEuNnJlbTtcclxuICAgIG1hcmdpbi1sZWZ0OiAycmVtO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMnJlbTtcclxufVxyXG5cclxuLnN0YXJ7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDJyZW07XHJcbiAgICByaWdodDogMnJlbTtcclxuICAgIHotaW5kZXg6IDEwMDtcclxufVxyXG5cclxuLnByb2R1Y3QtaW1hZ2V7XHJcbiAgICB3aWR0aDogMThyZW07XHJcbiAgICBoZWlnaHQ6IDI2LjJyZW07XHJcbiAgICBtYXJnaW4tYm90dG9tOiAycmVtO1xyXG59XHJcblxyXG4ucHJvZHVjdC1kZXNjcmlwdGlvbntcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGNvbG9yOiAjMDAwO1xyXG4gICAgZm9udDogMS42cmVtICdEYXlzT25lJztcclxufVxyXG5cclxuLnByb2R1Y3QtbmFtZXtcclxuICAgIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbn1cclxuXHJcbi5wcm9kdWN0LXByaWNle1xyXG4gICAgY29sb3I6ICNDQTBEMEQ7XHJcbiAgICBmb250LWZhbWlseTogJ05vcm1hbGlkYWQnO1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵlistener","CatalogComponent_div_7_Template_div_click_4_listener","restoredCtx","ɵɵrestoreView","_r3","product_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","goToProduct","id","ɵɵtext","ɵɵadvance","ɵɵproperty","images","ɵɵtextInterpolate","name","ctx_r0","getFormattedPrice","price","CatalogComponent","constructor","router","productService","route","products","ngOnInit","params","subscribe","productType","getAllProducts","productsFromQuery","error","console","navigate","formatNumber","num","toString","replace","_","ɵɵdirectiveInject","i1","Router","i2","ProductService","ActivatedRoute","_2","selectors","decls","vars","consts","template","CatalogComponent_Template","rf","ctx","ɵɵtemplate","CatalogComponent_div_7_Template"],"sources":["C:\\Users\\Повелитель\\Documents\\GitHub\\Satchel\\SatchelApp\\src\\app\\shared\\components\\routers\\catalog\\catalog.component.ts","C:\\Users\\Повелитель\\Documents\\GitHub\\Satchel\\SatchelApp\\src\\app\\shared\\components\\routers\\catalog\\catalog.component.html"],"sourcesContent":["import { Component, Input, OnInit} from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { ProductService } from 'src/app/core/services/product.service';\r\n\r\nexport default interface Product{\r\n  id: number,\r\n  name: string,\r\n  description: string,\r\n  producrCategoryId: number,\r\n  productTypeId: number,\r\n  price: number,\r\n  images: string[],\r\n  sizes: string[]\r\n  brandTypeId: number,\r\n  genderTypeId: number\r\n}\r\n\r\n@Component({\r\n  selector: 'app-catalog',\r\n  templateUrl: './catalog.component.html',\r\n  styleUrls: ['./catalog.component.css']\r\n})\r\nexport class CatalogComponent implements OnInit{\r\n\r\n  constructor(private router: Router, private productService: ProductService, private route: ActivatedRoute) { }\r\n\r\n  products : Product[] = [];\r\n\r\n  ngOnInit() {\r\n    this.route.params.subscribe(params => {\r\n      let productType : string = params['item'];\r\n      this.productService.getAllProducts(productType).subscribe(\r\n        (productsFromQuery: Product[]) => {\r\n          this.products = productsFromQuery;\r\n        },\r\n        (error) => {\r\n          console.error('Error fetching products', error);\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  goToProduct(id: number) {\r\n    this.router.navigate(['catalog/product', id]);\r\n  }\r\n\r\n  formatNumber(num: number) {\r\n    return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n  }\r\n  \r\n  getFormattedPrice(price: number) {\r\n    return `${this.formatNumber(price)} ₽`; \r\n  }\r\n}\r\n","<app-header></app-header>\r\n\r\n<div class=\"settings-bar\"> \r\n    <div>Фильтры</div>\r\n    <div>Сортировка</div>\r\n</div>\r\n\r\n<div class=\"container\">\r\n    <div class=\"product\" *ngFor=\"let product of products\">\r\n      <img class=\"star\" ngClass=\"active\" src=\"../../../../../assets/images/icons/favourites.svg\" alt=\"\">\r\n      <div class=\"product-image\">\r\n        <app-carousel [images]=\"product.images\"></app-carousel>\r\n      </div>\r\n      <div class=\"product-description\" (click)=\"goToProduct(product.id)\">\r\n        <h2 class=\"product-name\">{{product.name}}</h2>\r\n        <p class=\"product-price\">{{getFormattedPrice(product.price)}}</p>\r\n      </div>\r\n    </div>\r\n</div>\r\n<app-footer></app-footer>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}