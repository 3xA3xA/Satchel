{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nexport let UserPageComponent = class UserPageComponent {\n  constructor(userService, router, datePipe) {\n    this.userService = userService;\n    this.router = router;\n    this.datePipe = datePipe;\n    this.defaultUserPhoto = 'https://img.freepik.com/free-vector/illustration-businessman_53876-5856.jpg?size=626&ext=jpg&ga=GA1.1.1826414947.1705190400&semt=ais';\n    this.userData = {\n      firstName: '',\n      middleName: '',\n      lastName: '',\n      email: '',\n      dateOfBirth: new Date(2024, 0, 1),\n      userPhotoSrc: ''\n    };\n    this.userInfoForm = new FormGroup({\n      firstName: new FormControl(''),\n      middleName: new FormControl(''),\n      lastName: new FormControl(''),\n      email: new FormControl(''),\n      birth: new FormControl(new Date(2024, 0, 1))\n    });\n  }\n  ngOnInit() {\n    if (!this.userService.isAuthorized) this.router.navigate(['/']);\n    this.userService.getUserData().subscribe(data => {\n      this.userData = data;\n      console.log(this.userData);\n      this.getUserInfo();\n      if (this.userData.userPhotoSrc == null) this.userData.userPhotoSrc = this.defaultUserPhoto;\n      console.log(this.userData);\n    }, error => {\n      console.error('Error fetching products', error);\n    });\n  }\n  onFirtsNameChange(event) {\n    this.userData.firstName = event.target.value;\n  }\n  onMiddleNameChange(event) {\n    this.userData.middleName = event.target.value;\n  }\n  onLastNameChange(event) {\n    this.userData.lastName = event.target.value;\n  }\n  onEmailChange(event) {\n    this.userData.email = event.target.value;\n  }\n  onDateChange(event) {\n    this.userData.dateOfBirth = event.target.value;\n  }\n  updateUserInfo() {\n    this.userService.updateUserInfo(this.userData).subscribe(data => {}, error => {\n      console.error('Error fetching products', error);\n    });\n  }\n  exitFromAccount() {\n    this.userService.exitFromAccount();\n    this.router.navigate(['/']);\n  }\n  getUserInfo() {\n    const form = this.userInfoForm;\n    const firstName = form.get('firstName');\n    const middleName = form.get('middleName');\n    const lastName = form.get('lastName');\n    const email = form.get('email');\n    const birth = form.get('birth');\n    firstName?.setValue(this.userData.firstName);\n    middleName?.setValue(this.userData.middleName);\n    lastName?.setValue(this.userData.lastName);\n    email?.setValue(this.userData.email);\n    const dateOfBirth = new Date(this.userData.dateOfBirth);\n    const formattedDateOfBirth = this.datePipe.transform(dateOfBirth, 'yyyy-MM-dd');\n    birth?.setValue(formattedDateOfBirth);\n  }\n};\nUserPageComponent = __decorate([Component({\n  selector: 'app-user-page',\n  templateUrl: './user-page.component.html',\n  styleUrls: ['./user-page.component.css']\n})], UserPageComponent);","map":{"version":3,"names":["Component","FormControl","FormGroup","UserPageComponent","constructor","userService","router","datePipe","defaultUserPhoto","userData","firstName","middleName","lastName","email","dateOfBirth","Date","userPhotoSrc","userInfoForm","birth","ngOnInit","isAuthorized","navigate","getUserData","subscribe","data","console","log","getUserInfo","error","onFirtsNameChange","event","target","value","onMiddleNameChange","onLastNameChange","onEmailChange","onDateChange","updateUserInfo","exitFromAccount","form","get","setValue","formattedDateOfBirth","transform","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Satchel\\SatchelApp\\src\\app\\shared\\components\\routers\\user-page\\user-page.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { UserService } from 'src/app/core/services/user.service';\r\nimport { IUserPageData } from 'src/app/core/services/user.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-user-page',\r\n  templateUrl: './user-page.component.html',\r\n  styleUrls: ['./user-page.component.css']\r\n})\r\nexport class UserPageComponent {\r\n  constructor(private userService: UserService, private router: Router, private datePipe: DatePipe) { }\r\n\r\n  defaultUserPhoto: string = 'https://img.freepik.com/free-vector/illustration-businessman_53876-5856.jpg?size=626&ext=jpg&ga=GA1.1.1826414947.1705190400&semt=ais';\r\n\r\n  userData: IUserPageData = {\r\n    firstName: '',\r\n    middleName: '',\r\n    lastName: '',\r\n    email: '',\r\n    dateOfBirth: new Date(2024, 0, 1),\r\n    userPhotoSrc: '',\r\n  }\r\n\r\n  userInfoForm = new FormGroup({\r\n    firstName: new FormControl(''),\r\n    middleName: new FormControl(''),\r\n    lastName: new FormControl(''),\r\n    email: new FormControl(''),\r\n    birth: new FormControl(new Date(2024, 0, 1)),\r\n  });\r\n\r\n  ngOnInit() {\r\n    if (!this.userService.isAuthorized)\r\n      this.router.navigate(['/']);\r\n    this.userService.getUserData().subscribe(\r\n      (data: IUserPageData) => {\r\n        this.userData = data;\r\n        console.log(this.userData)\r\n        this.getUserInfo()\r\n        if (this.userData.userPhotoSrc == null)\r\n          this.userData.userPhotoSrc = this.defaultUserPhoto;\r\n        console.log(this.userData)\r\n      },\r\n      (error) => {\r\n        console.error('Error fetching products', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  onFirtsNameChange(event: any): void {\r\n    this.userData.firstName = event.target.value;\r\n  }\r\n\r\n  onMiddleNameChange(event: any): void {\r\n    this.userData.middleName = event.target.value;\r\n  }\r\n\r\n  onLastNameChange(event: any): void {\r\n    this.userData.lastName = event.target.value;\r\n  }\r\n\r\n  onEmailChange(event: any): void {\r\n    this.userData.email = event.target.value;\r\n  }\r\n\r\n  onDateChange(event: any): void {\r\n    this.userData.dateOfBirth = event.target.value;\r\n  }\r\n\r\n  updateUserInfo() {\r\n    this.userService.updateUserInfo(this.userData).subscribe(\r\n      (data: IUserPageData) => {\r\n      },\r\n      (error) => {\r\n        console.error('Error fetching products', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  exitFromAccount(){\r\n    this.userService.exitFromAccount();\r\n    this.router.navigate(['/']);\r\n  }\r\n\r\n  getUserInfo(){\r\n    const form = this.userInfoForm;\r\n    const firstName = form.get('firstName');\r\n    const middleName = form.get('middleName');\r\n    const lastName = form.get('lastName');\r\n    const email = form.get('email');\r\n    const birth = form.get('birth');\r\n\r\n    firstName?.setValue(this.userData.firstName)\r\n    middleName?.setValue(this.userData.middleName)\r\n    lastName?.setValue(this.userData.lastName)\r\n    email?.setValue(this.userData.email)\r\n    const dateOfBirth = new Date(this.userData.dateOfBirth);\r\n    const formattedDateOfBirth = this.datePipe.transform(dateOfBirth, 'yyyy-MM-dd');\r\n    birth?.setValue(formattedDateOfBirth)\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}