{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/user.service\";\nimport * as i2 from \"src/app/core/services/product.service\";\nimport * as i3 from \"src/app/core/services/create.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"src/app/core/services/config.service\";\nexport class UserPageComponent {\n  constructor(userService, productService, createService, router, configService) {\n    this.userService = userService;\n    this.productService = productService;\n    this.createService = createService;\n    this.router = router;\n    this.configService = configService;\n    this.defaultUserPhoto = this.configService.PATHS.defaultUserPhoto;\n    this.userData = this.initializeUserData();\n    this.userInfoForm = this.initializeUserInfoForm(this.userData);\n    this.sellerProducts = [];\n  }\n  ngOnInit() {\n    if (!this.userService.isAuthorized) this.router.navigate(['/']);\n    this.getUserData();\n    this.getSellerProducts();\n  }\n  get isCreateProductWindowOpen() {\n    return this.createService.isCreateOpen;\n  }\n  getFormattedPrice(price) {\n    return `${this.configService.getFormattedPrice(price)}`;\n  }\n  goToProduct(id) {\n    this.router.navigate(['catalog/product', id]);\n  }\n  getSellerProducts() {\n    this.productService.getSellerProducts(this.userService.userId).subscribe(data => {\n      this.sellerProducts = data;\n      console.log(data);\n    }, error => {});\n  }\n  updateUserInfo() {\n    this.userService.updateUserInfo(this.userData).subscribe(data => {\n      //получить ответ\n    }, error => {\n      console.error('Error fetching products', error);\n    });\n  }\n  openCreateWindow() {\n    this.createService.setCreateWindowStatus();\n  }\n  exitFromAccount() {\n    this.userService.exitFromAccount();\n    localStorage.clear();\n    this.router.navigate(['/']);\n  }\n  getUserData() {\n    this.userService.getUserData().subscribe(data => {\n      this.userData = data;\n      this.updateUserInfoForm();\n      if (this.userData.userPhotoSrc == null) this.userData.userPhotoSrc = this.defaultUserPhoto;\n    }, error => {\n      this.handleError('Error fetching user data', error);\n    });\n  }\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        this.userData.userPhotoSrc = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    }\n  }\n  deleteSellerProduct(productId) {\n    this.productService.deleteSellerProduct(productId).subscribe(data => {}, error => {\n      this.handleError('Error fetching user data', error);\n    });\n  }\n  updateUserInfoForm() {\n    this.userInfoForm.patchValue({\n      firstName: this.userData.firstName,\n      middleName: this.userData.middleName,\n      lastName: this.userData.lastName,\n      email: this.userData.email,\n      birth: this.userData.dateOfBirth,\n      userPhoto: this.userData.userPhotoSrc\n    });\n  }\n  initializeUserData() {\n    return {\n      firstName: '',\n      middleName: '',\n      lastName: '',\n      email: '',\n      dateOfBirth: new Date(1990, 0, 1),\n      userPhotoSrc: '',\n      userType: 'Покупатель'\n    };\n  }\n  initializeUserInfoForm(data) {\n    return new FormGroup({\n      firstName: new FormControl(data.firstName),\n      middleName: new FormControl(data.middleName),\n      lastName: new FormControl(data.lastName),\n      email: new FormControl(data.email),\n      birth: new FormControl(data.dateOfBirth),\n      userPhoto: new FormControl(data.userPhotoSrc)\n    });\n  }\n  handleError(message, error) {\n    console.error(message, error);\n  }\n  static #_ = this.ɵfac = function UserPageComponent_Factory(t) {\n    return new (t || UserPageComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.ProductService), i0.ɵɵdirectiveInject(i3.CreateService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.ConfigService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserPageComponent,\n    selectors: [[\"app-user-page\"]],\n    decls: 0,\n    vars: 0,\n    template: function UserPageComponent_Template(rf, ctx) {},\n    styles: [\".container[_ngcontent-%COMP%]{\\n    padding: 5rem 22.8rem;\\n    display: flex;\\n}\\n\\n.mainData[_ngcontent-%COMP%]{\\n    display: flex;\\n    flex-wrap: wrap;\\n    gap: 9rem;\\n}\\n\\n.heading[_ngcontent-%COMP%]{\\n    font: 2rem 'DaysOne', sans-serif;\\n    margin-top: 5.6rem;\\n    margin-bottom: 1.1rem;\\n}\\n\\n.heading[_ngcontent-%COMP%]:first-child{\\n    margin-top: 0;\\n}\\n\\n.blockName[_ngcontent-%COMP%]{\\n    font: 1.6rem 'DaysOne', sans-serif;\\n    margin-bottom: 1.6rem;\\n}\\n\\n.personalAreaInput[_ngcontent-%COMP%]{\\n    padding: 0.6rem;\\n    background: #D9D9D9;\\n    color: #000;\\n    font: 1.6rem 'DaysOne', sans-serif;\\n}\\n\\n.personalAreaSelect[_ngcontent-%COMP%]{\\n    width: 346px;\\n    height: 24px;\\n    background: #D9D9D9;\\n    color: #000;\\n    font: 1.4rem 'DaysOne', sans-serif;\\n}\\n\\n.fullnameInput[_ngcontent-%COMP%]{\\n    width: 34.6rem;\\n    height: 2.4rem;\\n}\\n\\n.secondaryInfoInput[_ngcontent-%COMP%]{\\n    width: 22.4rem;\\n    height: 2.4rem;\\n}\\n\\n.fullNameList-item[_ngcontent-%COMP%]{\\n    margin-bottom: 1.6rem\\n}\\n\\n.fullNameList-item[_ngcontent-%COMP%]:last-child{\\n    margin-bottom: 0\\n}\\n\\n.secondaryData[_ngcontent-%COMP%]:last-child{\\n    margin-top: 2rem;\\n}\\n\\n.feedbackDataSection[_ngcontent-%COMP%]{\\n    width: 50rem;\\n}\\n\\n.user-avatar[_ngcontent-%COMP%]{\\n    width: 50rem;\\n    height: 50rem;\\n    border-radius: 50%;\\n}\\n\\n.button-group[_ngcontent-%COMP%]{\\n    display: flex;\\n    gap: 5rem;\\n}\\n\\n.btn[_ngcontent-%COMP%]{\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    width: 14.8rem;\\n    height: 5.6rem;\\n    color: #000;\\n    background-color: #D9D9D9;\\n    font: 1.4rem 'DaysOne', sans-serif;\\n    border: 0.1rem solid #0ABAB5;\\n    border-radius: 1.8rem;\\n    transition: all 0.2s ease-out;\\n}\\n\\n.save-btn[_ngcontent-%COMP%]:hover{\\n    background-color: #AAEB77;\\n}\\n\\n.delete-btn[_ngcontent-%COMP%]:hover{\\n    background-color: #EB7777;\\n}\\n\\n.create-btn[_ngcontent-%COMP%]:hover{\\n    background-color: #0ABAB5;\\n}\\n\\n.products__title[_ngcontent-%COMP%]{\\n    font: 3.6rem 'DaysOne';\\n    color: #fff;\\n    margin: 2rem 0;\\n    padding: 0rem 22.8rem;\\n}\\n\\n.products__container[_ngcontent-%COMP%]{\\n    display: flex;\\n    flex-wrap: wrap;\\n    gap: 2.4rem;\\n    padding: 0rem 22.8rem;\\n}\\n\\n.product__item[_ngcontent-%COMP%]{\\n    position: relative;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    width: 46rem;\\n    height: 38.4rem;\\n    background-color: #fff;\\n    border-radius: 2.5rem;\\n    padding: 0.8rem 1.6rem;\\n    gap: 2rem;\\n}\\n\\n.product-item__image[_ngcontent-%COMP%]{\\n    width: 18rem;\\n    height: 26.2rem;\\n}\\n\\n.product-item__description[_ngcontent-%COMP%]{\\n    color: black;\\n    text-align: center;\\n}\\n\\n.product-item__name[_ngcontent-%COMP%]{\\n    font: 1.6rem 'DaysOne';\\n}\\n\\n.product-item__price[_ngcontent-%COMP%]{\\n    font: 1.6rem 'Normalidad';\\n    color: #CA0D0D;\\n    font-weight: 700;\\n}\\n\\n.product-item__trash[_ngcontent-%COMP%]{\\n    position: absolute;\\n    width: 4rem;\\n    height: 4rem;\\n    top: 2rem;\\n    left: 40rem;\\n    cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvcm91dGVycy91c2VyLXBhZ2UvdXNlci1wYWdlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxxQkFBcUI7SUFDckIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixlQUFlO0lBQ2YsU0FBUztBQUNiOztBQUVBO0lBQ0ksZ0NBQWdDO0lBQ2hDLGtCQUFrQjtJQUNsQixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksa0NBQWtDO0lBQ2xDLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLGVBQWU7SUFDZixtQkFBbUI7SUFDbkIsV0FBVztJQUNYLGtDQUFrQztBQUN0Qzs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLFdBQVc7SUFDWCxrQ0FBa0M7QUFDdEM7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsY0FBYztBQUNsQjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxjQUFjO0FBQ2xCOztBQUVBO0lBQ0k7QUFDSjs7QUFFQTtJQUNJO0FBQ0o7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGFBQWE7SUFDYixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsU0FBUztBQUNiOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsY0FBYztJQUNkLGNBQWM7SUFDZCxXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLGtDQUFrQztJQUNsQyw0QkFBNEI7SUFDNUIscUJBQXFCO0lBQ3JCLDZCQUE2QjtBQUNqQzs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixXQUFXO0lBQ1gsY0FBYztJQUNkLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixlQUFlO0lBQ2YsV0FBVztJQUNYLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG1CQUFtQjtJQUNuQixZQUFZO0lBQ1osZUFBZTtJQUNmLHNCQUFzQjtJQUN0QixxQkFBcUI7SUFDckIsc0JBQXNCO0lBQ3RCLFNBQVM7QUFDYjs7QUFFQTtJQUNJLFlBQVk7SUFDWixlQUFlO0FBQ25COztBQUVBO0lBQ0ksWUFBWTtJQUNaLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixjQUFjO0lBQ2QsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxZQUFZO0lBQ1osU0FBUztJQUNULFdBQVc7SUFDWCxlQUFlO0FBQ25CIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lcntcclxuICAgIHBhZGRpbmc6IDVyZW0gMjIuOHJlbTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbn1cclxuXHJcbi5tYWluRGF0YXtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgICBnYXA6IDlyZW07XHJcbn1cclxuXHJcbi5oZWFkaW5ne1xyXG4gICAgZm9udDogMnJlbSAnRGF5c09uZScsIHNhbnMtc2VyaWY7XHJcbiAgICBtYXJnaW4tdG9wOiA1LjZyZW07XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxLjFyZW07XHJcbn1cclxuXHJcbi5oZWFkaW5nOmZpcnN0LWNoaWxke1xyXG4gICAgbWFyZ2luLXRvcDogMDtcclxufVxyXG5cclxuLmJsb2NrTmFtZXtcclxuICAgIGZvbnQ6IDEuNnJlbSAnRGF5c09uZScsIHNhbnMtc2VyaWY7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxLjZyZW07XHJcbn1cclxuXHJcbi5wZXJzb25hbEFyZWFJbnB1dHtcclxuICAgIHBhZGRpbmc6IDAuNnJlbTtcclxuICAgIGJhY2tncm91bmQ6ICNEOUQ5RDk7XHJcbiAgICBjb2xvcjogIzAwMDtcclxuICAgIGZvbnQ6IDEuNnJlbSAnRGF5c09uZScsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbi5wZXJzb25hbEFyZWFTZWxlY3R7XHJcbiAgICB3aWR0aDogMzQ2cHg7XHJcbiAgICBoZWlnaHQ6IDI0cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjRDlEOUQ5O1xyXG4gICAgY29sb3I6ICMwMDA7XHJcbiAgICBmb250OiAxLjRyZW0gJ0RheXNPbmUnLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4uZnVsbG5hbWVJbnB1dHtcclxuICAgIHdpZHRoOiAzNC42cmVtO1xyXG4gICAgaGVpZ2h0OiAyLjRyZW07XHJcbn1cclxuXHJcbi5zZWNvbmRhcnlJbmZvSW5wdXR7XHJcbiAgICB3aWR0aDogMjIuNHJlbTtcclxuICAgIGhlaWdodDogMi40cmVtO1xyXG59XHJcblxyXG4uZnVsbE5hbWVMaXN0LWl0ZW17XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxLjZyZW1cclxufVxyXG5cclxuLmZ1bGxOYW1lTGlzdC1pdGVtOmxhc3QtY2hpbGR7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwXHJcbn1cclxuXHJcbi5zZWNvbmRhcnlEYXRhOmxhc3QtY2hpbGR7XHJcbiAgICBtYXJnaW4tdG9wOiAycmVtO1xyXG59XHJcblxyXG4uZmVlZGJhY2tEYXRhU2VjdGlvbntcclxuICAgIHdpZHRoOiA1MHJlbTtcclxufVxyXG5cclxuLnVzZXItYXZhdGFye1xyXG4gICAgd2lkdGg6IDUwcmVtO1xyXG4gICAgaGVpZ2h0OiA1MHJlbTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxufVxyXG5cclxuLmJ1dHRvbi1ncm91cHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBnYXA6IDVyZW07XHJcbn1cclxuXHJcbi5idG57XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgd2lkdGg6IDE0LjhyZW07XHJcbiAgICBoZWlnaHQ6IDUuNnJlbTtcclxuICAgIGNvbG9yOiAjMDAwO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0Q5RDlEOTtcclxuICAgIGZvbnQ6IDEuNHJlbSAnRGF5c09uZScsIHNhbnMtc2VyaWY7XHJcbiAgICBib3JkZXI6IDAuMXJlbSBzb2xpZCAjMEFCQUI1O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMS44cmVtO1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZS1vdXQ7XHJcbn1cclxuXHJcbi5zYXZlLWJ0bjpob3ZlcntcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNBQUVCNzc7XHJcbn1cclxuXHJcbi5kZWxldGUtYnRuOmhvdmVye1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0VCNzc3NztcclxufVxyXG5cclxuLmNyZWF0ZS1idG46aG92ZXJ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMEFCQUI1O1xyXG59XHJcblxyXG4ucHJvZHVjdHNfX3RpdGxle1xyXG4gICAgZm9udDogMy42cmVtICdEYXlzT25lJztcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgbWFyZ2luOiAycmVtIDA7XHJcbiAgICBwYWRkaW5nOiAwcmVtIDIyLjhyZW07XHJcbn1cclxuXHJcbi5wcm9kdWN0c19fY29udGFpbmVye1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIGdhcDogMi40cmVtO1xyXG4gICAgcGFkZGluZzogMHJlbSAyMi44cmVtO1xyXG59XHJcblxyXG4ucHJvZHVjdF9faXRlbXtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHdpZHRoOiA0NnJlbTtcclxuICAgIGhlaWdodDogMzguNHJlbTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiAyLjVyZW07XHJcbiAgICBwYWRkaW5nOiAwLjhyZW0gMS42cmVtO1xyXG4gICAgZ2FwOiAycmVtO1xyXG59XHJcblxyXG4ucHJvZHVjdC1pdGVtX19pbWFnZXtcclxuICAgIHdpZHRoOiAxOHJlbTtcclxuICAgIGhlaWdodDogMjYuMnJlbTtcclxufVxyXG5cclxuLnByb2R1Y3QtaXRlbV9fZGVzY3JpcHRpb257XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5wcm9kdWN0LWl0ZW1fX25hbWV7XHJcbiAgICBmb250OiAxLjZyZW0gJ0RheXNPbmUnO1xyXG59XHJcblxyXG4ucHJvZHVjdC1pdGVtX19wcmljZXtcclxuICAgIGZvbnQ6IDEuNnJlbSAnTm9ybWFsaWRhZCc7XHJcbiAgICBjb2xvcjogI0NBMEQwRDtcclxuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbn1cclxuXHJcbi5wcm9kdWN0LWl0ZW1fX3RyYXNoe1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgd2lkdGg6IDRyZW07XHJcbiAgICBoZWlnaHQ6IDRyZW07XHJcbiAgICB0b3A6IDJyZW07XHJcbiAgICBsZWZ0OiA0MHJlbTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["FormControl","FormGroup","UserPageComponent","constructor","userService","productService","createService","router","configService","defaultUserPhoto","PATHS","userData","initializeUserData","userInfoForm","initializeUserInfoForm","sellerProducts","ngOnInit","isAuthorized","navigate","getUserData","getSellerProducts","isCreateProductWindowOpen","isCreateOpen","getFormattedPrice","price","goToProduct","id","userId","subscribe","data","console","log","error","updateUserInfo","openCreateWindow","setCreateWindowStatus","exitFromAccount","localStorage","clear","updateUserInfoForm","userPhotoSrc","handleError","onFileSelected","event","file","target","files","reader","FileReader","onload","e","result","readAsDataURL","deleteSellerProduct","productId","patchValue","firstName","middleName","lastName","email","birth","dateOfBirth","userPhoto","Date","userType","message","_","i0","ɵɵdirectiveInject","i1","UserService","i2","ProductService","i3","CreateService","i4","Router","i5","ConfigService","_2","selectors","decls","vars","template","UserPageComponent_Template","rf","ctx","styles"],"sources":["C:\\Satchel\\SatchelApp\\src\\app\\shared\\components\\routers\\user-page\\user-page.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { UserService, UserPageData } from 'src/app/core/services/user.service';\r\nimport { Router } from '@angular/router';\r\nimport { CreateService } from 'src/app/core/services/create.service';\r\nimport { ConfigService } from 'src/app/core/services/config.service';\r\nimport { Product } from '../catalog/catalog.component';\r\nimport { ProductService } from 'src/app/core/services/product.service';\r\n\r\n@Component({\r\n  selector: 'app-user-page',\r\n  templateUrl: './user-page.component.html',\r\n  styleUrls: ['./user-page.component.css']\r\n})\r\nexport class UserPageComponent {\r\n  \r\n  constructor(private userService: UserService, \r\n              private productService: ProductService,\r\n              private createService: CreateService, \r\n              private router: Router,\r\n              private configService: ConfigService) { }\r\n\r\n  defaultUserPhoto: string = this.configService.PATHS.defaultUserPhoto;\r\n\r\n  userData: UserPageData = this.initializeUserData();\r\n  userInfoForm = this.initializeUserInfoForm(this.userData);\r\n  sellerProducts: Product[] = [];\r\n\r\n  ngOnInit() {\r\n    if (!this.userService.isAuthorized)\r\n      this.router.navigate(['/']);\r\n\r\n    this.getUserData();\r\n\r\n    this.getSellerProducts();\r\n  }\r\n\r\n  get isCreateProductWindowOpen(): boolean {\r\n    return this.createService.isCreateOpen;\r\n  }\r\n\r\n  getFormattedPrice(price: number) {\r\n    return `${this.configService.getFormattedPrice(price)}`; \r\n  }\r\n\r\n  goToProduct(id: number) {\r\n    this.router.navigate(['catalog/product', id]);\r\n  }\r\n\r\n  getSellerProducts(){\r\n    this.productService.getSellerProducts(this.userService.userId).subscribe(\r\n      (data: Product[]) => {\r\n        this.sellerProducts = data;\r\n        console.log(data)\r\n      },\r\n      (error) => {\r\n\r\n      }\r\n    )\r\n  }\r\n\r\n  updateUserInfo() {\r\n    this.userService.updateUserInfo(this.userData).subscribe(\r\n      (data: UserPageData) => {\r\n        //получить ответ\r\n      },\r\n      (error) => {\r\n        console.error('Error fetching products', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  openCreateWindow(){\r\n    this.createService.setCreateWindowStatus();\r\n  }\r\n\r\n  exitFromAccount(){\r\n    this.userService.exitFromAccount();\r\n    localStorage.clear();\r\n    this.router.navigate(['/']);\r\n  }\r\n\r\n  getUserData() : void {\r\n    this.userService.getUserData().subscribe(\r\n      (data: UserPageData) => {\r\n        this.userData = data;\r\n        this.updateUserInfoForm();\r\n        if (this.userData.userPhotoSrc == null)\r\n          this.userData.userPhotoSrc = this.defaultUserPhoto;\r\n      },\r\n      (error) => {\r\n        this.handleError('Error fetching user data', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  onFileSelected(event : any) {\r\n    const file:File = event.target.files[0];\r\n\r\n    if (file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e: any) => {\r\n            this.userData.userPhotoSrc = e.target.result;\r\n        }\r\n        reader.readAsDataURL(file);\r\n    }\r\n  }\r\n\r\n  deleteSellerProduct(productId: number) {\r\n    this.productService.deleteSellerProduct(productId).subscribe(\r\n      (data: any) => {\r\n      },\r\n      (error) => {\r\n        this.handleError('Error fetching user data', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  updateUserInfoForm() {\r\n    this.userInfoForm.patchValue({\r\n      firstName: this.userData.firstName,\r\n      middleName: this.userData.middleName,\r\n      lastName: this.userData.lastName,\r\n      email: this.userData.email,\r\n      birth: this.userData.dateOfBirth,\r\n      userPhoto: this.userData.userPhotoSrc\r\n    });\r\n  }\r\n\r\n  initializeUserData(): UserPageData {\r\n    return {\r\n      firstName: '',\r\n      middleName: '',\r\n      lastName: '',\r\n      email: '',\r\n      dateOfBirth: new Date(1990, 0, 1),\r\n      userPhotoSrc: '',\r\n      userType: 'Покупатель'\r\n    };\r\n  }\r\n  \r\n  initializeUserInfoForm(data: UserPageData): FormGroup {\r\n    return new FormGroup({\r\n      firstName: new FormControl(data.firstName),\r\n      middleName: new FormControl(data.middleName),\r\n      lastName: new FormControl(data.lastName),\r\n      email: new FormControl(data.email),\r\n      birth: new FormControl(data.dateOfBirth),\r\n      userPhoto: new FormControl(data.userPhotoSrc)\r\n    });\r\n  }\r\n\r\n  handleError(message: string, error: any) {\r\n    console.error(message, error);\r\n  }\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}