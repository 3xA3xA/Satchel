{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let CartPageComponent = class CartPageComponent {\n  constructor(cartPageService, userService, productService, router) {\n    this.cartPageService = cartPageService;\n    this.userService = userService;\n    this.productService = productService;\n    this.router = router;\n    this.shoppingCart = [];\n    this.finalPrice = 0;\n  }\n  ngOnInit() {\n    if (!this.userService.isAuthorized) this.router.navigate(['/']);\n    this.cartPageService.GetShoppingCart(this.userService.userId).subscribe(productsFromQuery => {\n      this.shoppingCart = productsFromQuery;\n      this.sumPriceCart();\n    }, error => {\n      console.error('Error fetching products', error);\n    });\n  }\n  sumPriceCart() {\n    for (let product of this.shoppingCart) {\n      this.finalPrice += product.price;\n    }\n    return this.finalPrice;\n  }\n  getFormatPrice(price) {\n    return this.productService.getFormattedPrice(price);\n  }\n};\nCartPageComponent = __decorate([Component({\n  selector: 'app-cart-page',\n  templateUrl: './cart-page.component.html',\n  styleUrls: ['./cart-page.component.css']\n})], CartPageComponent);","map":{"version":3,"names":["Component","CartPageComponent","constructor","cartPageService","userService","productService","router","shoppingCart","finalPrice","ngOnInit","isAuthorized","navigate","GetShoppingCart","userId","subscribe","productsFromQuery","sumPriceCart","error","console","product","price","getFormatPrice","getFormattedPrice","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Повелитель\\Documents\\GitHub\\Satchel\\SatchelApp\\src\\app\\shared\\components\\routers\\cart-page\\cart-page.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { CartPageService } from 'src/app/core/services/cart-page.service';\r\nimport { UserService } from 'src/app/core/services/user.service';\r\nimport { Product } from '../catalog/catalog.component';\r\nimport { ProductService } from 'src/app/core/services/product.service';\r\nimport { Router} from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-cart-page',\r\n  templateUrl: './cart-page.component.html',\r\n  styleUrls: ['./cart-page.component.css']\r\n})\r\nexport class CartPageComponent {\r\n\r\n  constructor(private cartPageService: CartPageService, private userService: UserService, private productService: ProductService, private router: Router) { }\r\n\r\n  shoppingCart : Product[] = [];\r\n  finalPrice: number = 0\r\n\r\n  ngOnInit() {\r\n    if (!this.userService.isAuthorized)\r\n      this.router.navigate(['/']);\r\n    this.cartPageService.GetShoppingCart(this.userService.userId).subscribe(\r\n      (productsFromQuery: Product[]) => {\r\n        this.shoppingCart = productsFromQuery;\r\n        this.sumPriceCart()\r\n      },\r\n      (error) => {\r\n        console.error('Error fetching products', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  sumPriceCart(){\r\n    for(let product of this.shoppingCart){\r\n      this.finalPrice += product.price\r\n    }\r\n    return this.finalPrice\r\n  }\r\n\r\n  getFormatPrice(price: number){\r\n    return (this.productService.getFormattedPrice(price))\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAYlC,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAE5BC,YAAoBC,eAAgC,EAAUC,WAAwB,EAAUC,cAA8B,EAAUC,MAAc;IAAlI,KAAAH,eAAe,GAAfA,eAAe;IAA2B,KAAAC,WAAW,GAAXA,WAAW;IAAuB,KAAAC,cAAc,GAAdA,cAAc;IAA0B,KAAAC,MAAM,GAANA,MAAM;IAE9I,KAAAC,YAAY,GAAe,EAAE;IAC7B,KAAAC,UAAU,GAAW,CAAC;EAHoI;EAK1JC,QAAQA,CAAA;IACN,IAAI,CAAC,IAAI,CAACL,WAAW,CAACM,YAAY,EAChC,IAAI,CAACJ,MAAM,CAACK,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;IAC7B,IAAI,CAACR,eAAe,CAACS,eAAe,CAAC,IAAI,CAACR,WAAW,CAACS,MAAM,CAAC,CAACC,SAAS,CACpEC,iBAA4B,IAAI;MAC/B,IAAI,CAACR,YAAY,GAAGQ,iBAAiB;MACrC,IAAI,CAACC,YAAY,EAAE;IACrB,CAAC,EACAC,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD,CAAC,CACF;EACH;EAEAD,YAAYA,CAAA;IACV,KAAI,IAAIG,OAAO,IAAI,IAAI,CAACZ,YAAY,EAAC;MACnC,IAAI,CAACC,UAAU,IAAIW,OAAO,CAACC,KAAK;;IAElC,OAAO,IAAI,CAACZ,UAAU;EACxB;EAEAa,cAAcA,CAACD,KAAa;IAC1B,OAAQ,IAAI,CAACf,cAAc,CAACiB,iBAAiB,CAACF,KAAK,CAAC;EACtD;CACD;AA/BYnB,iBAAiB,GAAAsB,UAAA,EAL7BvB,SAAS,CAAC;EACTwB,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACWzB,iBAAiB,CA+B7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}